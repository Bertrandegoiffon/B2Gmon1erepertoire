(function(cds,win,$){var doc=window.document,initOverlayer=function(url){document.createElement("nav");var $onlineListMenu=$("#overlayerV2"),$ul=$(">li>ul",$onlineListMenu);$ul.html('<li class="list"><strong class="overlayerLoading">Chargement, veuillez patienter...</strong></li>').addClass("level_0");$onlineListMenu.one("mouseenter",function(){$.get(url,function(html){$("li > .level_0",$(html)).each(function(idx){$($ul[idx]).html($(this).html())});typeof $.fn.loadImg!=="undefined"&&$onlineListMenu.find("img[data-src]").each(function(){$(this).loadImg(false)});$("[data-nf]",$onlineListMenu).nf()})})};cds["initOverlayer"]=initOverlayer;var cssBrowserVersion=function(){$("body").addClass(cds.getBrowser()["name"].substr(0,3)).addClass("v"+cds.getBrowser()["version"].split(".")[0])};cds["cssBrowserVersion"]=cssBrowserVersion;var goToRegistrationForm=function(urlRegistrationForm,invalidEmailMsg){var email=doc.getElementById("inputNewsletterTextBox").value;if(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(email)&&cds.ui)cds.ui.popUp(urlRegistrationForm+doc.getElementById("inputNewsletterTextBox").value,"Newsletter",790,810,20,20,1,1);else alert(invalidEmailMsg);return false};win["goToRegistrationForm"]=goToRegistrationForm;var IntegrationFlash=function(imgPath,path4par3,name4par3,height,width){width=width||"0",Height=height||"0";var swfUrl=imgPath+path4par3+name4par3,oTag='<object type="application/x-shockwave-flash" data="'+swfUrl+'" width="'+width+'" height="'+height+'"><param name="movie" value="'+swfUrl+'"><param name="quality" value="high"><param name="play" value="true"><param name="wmode" value="transparent"><param name="allowScriptAccess" value="always" /></object>';doc.write(oTag)};win["IntegrationFlash"]=IntegrationFlash;var vAlignDepartmentLeftMenuV2=function(){$("span.selectorLeftSidebar").each(function(){var $this=$(this);$this.height()>14&&$this.parent("div.leftSidebarRayonTitle").addClass("twoLinesRayonTitle")})};win["vAlignDepartmentLeftMenuV2"]=vAlignDepartmentLeftMenuV2;var getAsyncNavLeft=function(url,id){$("#"+id).load(url)};window["getAsyncNavLeft"]=getAsyncNavLeft;$.fn.placeHolder=function(){$(this).each(function(){var inputValue=$(this).attr("placeholder"),inputColor="#A9A9A9",$this=$(this);cds.isEmptyString($this.attr("value"))&&$this.attr("value",inputValue).css("color",inputColor);return $this.focusin(function(){$this.attr("value").toLowerCase()===inputValue.toLowerCase()&&$this.removeAttr("value").css("color","")}).focusout(function(){cds.isEmptyString($this.attr("value"))&&$this.attr("value",inputValue).css("color",inputColor)})})};$.fn.revealHover=function(options){options=$.extend({},{hoverClass:"reveal-hover-active",hoverEvent:"mouseenter",hoverOutEvent:"mouseleave",revealMethod:"bind",itemSelector:".reveal-hover-item",itemToHideSelector:".reveal-hover-hide",onHover:$.noop,onHoverOut:$.noop,hoverAddClass:"",hoverRemoveClass:"",hoverOutAddClass:"",hoverOutRemoveClass:"",hideAddClass:"",hideRemoveClass:"",hideOutAddClass:"",hideOutRemoveClass:""},options);return this[options.revealMethod](options.hoverEvent,function(){var $this=$(this),$hoverSelectors=$this.addClass(options.hoverClass).find(options.itemSelector);$hoverSelectors.addClass(options.hoverAddClass).removeClass(options.hoverRemoveClass);$hoverSelectors.length&&$this.find(options.itemToHideSelector).addClass(options.hideAddClass).removeClass(options.hideRemoveClass);options.onHover.call(this,options)})[options.revealMethod](options.hoverOutEvent,function(){var $this=$(this),$hoverSelectors=$this.removeClass(options.hoverClass).find(options.itemSelector);$hoverSelectors.addClass(options.hoverOutAddClass).removeClass(options.hoverOutRemoveClass);$hoverSelectors.length&&$this.find(options.itemToHideSelector).addClass(options.hideOutAddClass).removeClass(options.hideOutRemoveClass);options.onHoverOut.call(this,options)})};var refreshArticleCount=function(){if(cds.getCookie){var cookieNameInput=$(":input[name=ArticleCountCookieName]");if(cookieNameInput.length>0&&cookieNameInput[0].value!=null){var articleCount=cds.getCookie(cookieNameInput[0].value)!=""?parseInt(cds.getCookie(cookieNameInput[0].value)):0,$divNoArticle=$("#divNoArticle"),$divOneArticle=$("#divOneArticle"),$divSeveralArticle=$("#divSeveralArticle");if($divNoArticle.length>0&&$("#divOneArticle").length>0&&$("#divSeveralArticle").length>0){$divNoArticle.hide();$divOneArticle.hide();$divSeveralArticle.hide();switch(articleCount){case 0:$divNoArticle.show();break;case 1:$divOneArticle.show();break;default:$divSeveralArticle.find("span").text(articleCount);$divSeveralArticle.show()}}}}};$(function(){var $page=$("#page"),$mainContainer=$("#mainContainer"),$linkPriceCss=$("head > link[href*='price.css']");if($linkPriceCss.length&&typeof cds.ui.isFontAvailable==="function"&&!cds.ui.isFontAvailable("impact")){var urlFFS=$linkPriceCss.attr("href").replace("price.css","fontFace.css");cds.loadStylesSheet(urlFFS)}typeof cds.isInputAttrSupported!=="undefined"&&!cds.isInputAttrSupported("placeholder")&&$("#page input[placeholder]").placeHolder();$.fn.nf&&$("[data-nf]").nf();var $histPL=$("#HistoryProductList");$histPL.find("p.historyDisplayBlock").hide();$histPL.find("ul.displayPdtList li").each(function(){var $this=$(this),$a=$this.find("a");if($this.hasClass("active")){var urlBlock=$a.attr("rel");$("#"+urlBlock).show()}$a.mouseenter(function(){var $that=$(this);$that.parent("li").siblings().removeClass("active");$that.parent("li").addClass("active");var urlBlockDisplay=$that.attr("rel");$("#"+urlBlockDisplay).show();$("#"+urlBlockDisplay).siblings().hide()})});$("#overlayerV2").find("li.level_0").one("mouseover",function(){typeof $.fn.loadImg!=="undefined"&&$(this).find("img[data-src]").each(function(){$(this).loadImg(false)})});typeof $.fn.fixZIndex!="undefined"&&$("body").find(".jq-fixZIndex").fixZIndex();$(".ztdNew span",$mainContainer).click(function(){$t=$(this);$t.parent().find(".ztdH").toggle().is(":visible")?$t.html("-"):$t.html("+")});typeof $.fn.picHover!="undefined"&&$("body").find(".jq-picHover").picHover();$("#mainContainer input.button-continue-shopping-grey").live("click",function(){cds.getAllCookies&&cds.getAllCookies();refreshArticleCount()});var cookieNameInput=$mainContainer.find("input[name=ArticleCountCookieName]");cookieNameInput.length>0&&cookieNameInput[0].value!=null&&refreshArticleCount()})})(cds,window,jQuery);