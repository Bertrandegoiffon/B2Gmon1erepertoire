(function(w,undefined){var d=w.document,isDebug=false,cdsDomain=d.domain.indexOf(".")>-1?d.domain.substr(d.domain.indexOf(".")):"",cdsCookies=null,cookieValueRegex=/([^?\.|]+)(\.([^|]*))?/g,browser=null,isDomReady=false,isPageLoad=false,COOKIE_SITE_VERSION_NAME="SiteVersionCookie",COOKIE_SITE_VERSION_NOCHANGE_NAME="SiteVersionCookieNoChanges",COOKIE_VARIANT_NAME="VariantCookie",COOKIE_ID_NAME="CookieId",COOKIE_CLIENT_ID_NAME="ClientId",COOKIE_UNIQUE_CONTEXT_NAME="UniqueVisitContext",COOKIE_SITE_PERSO_NAME="SitePersoCookie",webForms2={inputType:{},inputAttr:{}};(function(){var dummyInput=d.createElement("input"),types="search;tel;url;email;datetime;date;month;week;time;datetime-local;number;range;color".split(";"),attrs="autocomplete;autofocus;list;placeholder;max min;multiple;pattern;required;step".split(";"),theValue;for(var i in types){theValue=types[i];dummyInput.setAttribute("type",theValue);webForms2.inputType[theValue]=dummyInput.type!=="text"}for(var i in attrs){theValue=attrs[i];webForms2.inputAttr[theValue]=theValue in dummyInput}})();var extendProperties=function(obj,extension){for(var property in extension)extension.hasOwnProperty(property)&&!obj[property]?(obj[property]=extension[property]):false;return obj};extendProperties(String.prototype,{isEmpty:function(){return /^[ ]*$/.test(this||"")},trim:function(){return (this||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},removeSpace:function(){return this.replace(/[ ]+/g,"")},oneLine:function(){return this.replace(/[\r\n\f\t\v]+/g,"")},capitalize:function(){return this.replace(/\w+/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})},sprintf:function(){var a=arguments,s="",p=0,$t=this,idx=0;this.replace(/(%(.\d){0,1}d)|(%s)/g,function($0,$1,$2,$3,$4){var s2=(a[idx]!==undefined?a[idx]:"").toString();if($0.length===4){var c=$0.charAt(1),n=parseInt($0.charAt(2),10),bs="";n=n-s2.length;while(n-->0)bs+=c;s2=bs+s2}s+=$t.substring(p,$4)+s2;p=$4+$0.length;++idx});return s+$t.substring(p)},toNumber:function(){return w.parseInt(this||0,10)}});extendProperties(Array.prototype,{each:function(h){var i=0;while(i<this.length)h(this[i++]);return this}});Array.prototype.map||(Array.prototype.map=function(fn,obj){for(var tab=[],i=0;i<this.length;i++)tab[i]=fn.call(obj,this[i],i,this);return tab});var cds={CookieSiteVersionName:COOKIE_SITE_VERSION_NAME,CookieVarianName:COOKIE_VARIANT_NAME,CookieCookieIdName:COOKIE_ID_NAME,CookieClientIdName:COOKIE_CLIENT_ID_NAME,CookieUContextName:COOKIE_UNIQUE_CONTEXT_NAME,isDebug:isDebug,isEmptyString:function(str){return /^[ ]*$/.test(str||"")},trim:function(str){return (str||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},qsToObj:function(qs,isToLowerCase){var obj={};qs.toString().trim().replace("#","&anchor=").replace(/([^?=&]+)(=([^&]*))?/g,function($0,$1,$2,$3){obj[isToLowerCase||false?$1.toLowerCase():$1]=decodeURIComponent($3)});return obj},getBrowser:function(){if(!browser){var ua=w.navigator.userAgent.toLowerCase(),match=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];browser={name:match[1]||"",version:match[2]||"0"}}return browser},type:function(obj){return Object.prototype.toString.apply(obj).toLowerCase().replace(/\[object (.*)\]/,function($0,$1){return $1})},log:function(message){typeof message==="string"&&typeof console==="object"&&typeof console.log==="function"&&console.log(message)},getAllCookies:function(){var cookiesObj={},that=this;d.cookie.replace(/([^?=;]+)(=([^;]*))?/g,function($0,$1,$2,$3){var cName=$1.trim(),cValue=typeof $3==="string"?$3.trim():"";if(cName===COOKIE_ID_NAME)(cValue||"").replace(new RegExp("([^=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){cookiesObj[$1]=$3||""});else if(cName===COOKIE_UNIQUE_CONTEXT_NAME||cName===COOKIE_SITE_PERSO_NAME){for(var values=cValue.split("__"),j=0;j<values.length;j++)if(j%2===0&&!values[j].isEmpty())cookiesObj[values[j]]=j+1<values.length?unescape(values[j+1]):""}else if(!cName.isEmpty())cookiesObj[cName]=unescape(cValue)});return cdsCookies=cookiesObj},getCookie:function(cName,isRefreshed){var cValue="";if(!cName.isEmpty()){if(cdsCookies===null||isRefreshed)cdsCookies=this.getAllCookies();if(cdsCookies[cName]!==undefined)cValue=cdsCookies[cName]}return cValue},setCookie:function(cName,cValue,cExpireMin){if(!cName.isEmpty()){var expires="";if(cExpireMin){var date=new Date;date.setTime(date.getTime()+cExpireMin*60*1e3);expires=";expires="+date.toGMTString()}d.cookie=cName+"="+cValue+";domain="+cdsDomain+expires+";path=/";cdsCookies=null}},deleteCookie:function(cName){this.setCookie(cName,"",-1)},cookieValueToObj:function(cValue){var obj={};cValue.toString().trim().replace(cookieValueRegex,function($0,$1,$2,$3){obj[$1]=$3!==undefined?$3:""});obj.toString=function(){var toStr="",i;for(i in this){var that=this[i];if(typeof that==="string")toStr+=(toStr!==""?"|":"")+(i+"."+that)}return toStr};return obj},getSiteVersion:function(typeVersion){return this.cookieValueToObj(this.getCookie(COOKIE_SITE_VERSION_NAME))[typeVersion]==="1"||this.cookieValueToObj(this.getCookie(COOKIE_SITE_VERSION_NOCHANGE_NAME))[typeVersion]==="1"},getVariant:function(vName){var vValue=this.cookieValueToObj(this.getCookie(COOKIE_VARIANT_NAME))[vName];return vValue!==undefined?vValue:""},parseJson:function(str){return typeof JSON!=="undefined"?JSON.parse(str):eval("("+str+")")},loadScript:function(s,callback){if(s){var fs=d.getElementsByTagName("script")[0],ns=d.createElement("script");ns.type="text/javascript";ns.async=true;if(s.src)ns.src=s.src;if(s.text)ns.text=s.text;if(s.id)ns.id=s.id;if(callback)if(ns.readyState)ns.onreadystatechange=function(){(ns.readyState==="complete"||ns.readyState==="loaded")&&callback()};else ns.onload=callback;fs.parentNode.insertBefore(ns,fs)}},loadScriptToPageLoad:function(s,callback){this.bindToPageLoad(function(){this.loadScript(s,callback)})},loadOrderedScripts:function(scrArr,callback){if(scrArr.length>1){var newArr=scrArr.slice(1);this.loadScript({src:scrArr[0]},function(){cds.loadOrderedScripts(newArr,callback)})}else this.loadScript({src:scrArr[0]},callback)},insertScript:function(srcAttr,idAttr){var scriptTag="";if(srcAttr){scriptTag='<script type="text/javascript""';if(idAttr)scriptTag+=' id="'+idAttr+'"';scriptTag+=' src="'+srcAttr+'"></scr'+"ipt>"}d.write(scriptTag)},getXHR:function(urlXhr,isAsyn,success,error){if(urlXhr){var xhr=null,asyn=isAsyn||false;if(w.ActiveXObject)xhr=new w.ActiveXObject("Microsoft.XMLHTTP");else if(w.XMLHttpRequest)xhr=new w.XMLHttpRequest;if(success)xhr.onreadystatechange=function(){xhr.readyState==4&&success(xhr.responseText)};if(error)xhr.onerror=function(){error()};if(xhr){xhr.open("GET",urlXhr,asyn);xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded");xhr.send(null)}if(!asyn)return xhr.responseText}},sendRequest:function(url){if(url)(new Image).src=url},addStyles:function(styles){if(styles){var styleTag=d.createElement("style");styleTag.type="text/css";styleTag.appendChild(d.createTextNode(styles));d.getElementsByTagName("head").item(0).appendChild(styleTag)}},loadStylesSheet:function(sUrl){if(sUrl){var linkTag=d.createElement("link");linkTag.type="text/css";linkTag.rel="stylesheet";linkTag.href=sUrl;linkTag.media="screen";d.getElementsByTagName("head")[0].appendChild(linkTag)}},bindToPageLoad:function(handler){if(isPageLoad)handler();else if(w.attachEvent)w.attachEvent("onload",handler);else w.addEventListener("load",handler,false)},bindToDomReady:function(handler){if(isDomReady)handler();else if(d.attachEvent)d.attachEvent("onreadystatechange",handler);else d.addEventListener("DOMContentLoaded",handler,false)},isDomReady:function(){return isDomReady},isPageLoad:function(){return isPageLoad},isInputTypeSupported:function(type){return webForms2.inputType[type]},isInputAttrSupported:function(attr){return webForms2.inputAttr[attr]}};cds.bindToDomReady(function(){isDomReady=true});cds.bindToPageLoad(function(){isPageLoad=true});w["cds"]=cds})(window);